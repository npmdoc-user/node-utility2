<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>utility2 v2017.2.20</title>
<style>
/*csslint
    box-sizing: false,
    universal-selector: false
*/
* {
    box-sizing: border-box;
}
body {
    background: #dde;
    font-family: Arial, Helvetica, sans-serif;
    margin: 2rem;
}
body > * {
    margin-bottom: 1rem;
}
</style>
<style>
/*csslint
    ids: false,
*/
#outputPreJslint1 {
    color: #d00;
}
textarea {
    font-family: monospace;
    height: 15rem;
    width: 100%;
}
textarea[readonly] {
    background: #ddd;
}
</style>
</head>
<body>

    <div id="ajaxProgressDiv1" style="background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;"></div>

    <h1>

        <a
            
            href="https://github.com/kaizhu256/node-utility2"
            
            target="_blank"
        >

            utility2 v2017.2.20

        </a>

    </h1>
    <h3>this zero-dependency package will run dynamic browser-tests with coverage (via electron and istanbul)</h3>

    <h4><a download href="assets.app.js">download standalone app</a></h4>


    <label>edit or paste script below to cover and test</label>
<textarea class="onkeyup" id="inputTextarea1">
// remove comment below to disable jslint
/*jslint
    browser: true,
    es6: true
*/
/*global window*/
(function () {
    "use strict";
    var testCaseDict;
    testCaseDict = {};
    testCaseDict.modeTest = true;

    // comment this testCase to disable the failed assertion demo
    testCaseDict.testCase_failed_assertion_demo = function (
        options,
        onError
    ) {
    /*
     * this function will demo a failed assertion test
     */
        // jslint-hack
        window.utility2.nop(options);
        window.utility2.assert(false, "this is a failed assertion demo");
        onError();
    };

    testCaseDict.testCase_passed_ajax_demo = function (options, onError) {
    /*
     * this function will demo a passed ajax test
     */
        var data;
        options = {url: "/"};
        // test ajax request for main-page "/"
        window.utility2.ajax(options, function (error, xhr) {
            try {
                // validate no error occurred
                window.utility2.assert(!error, error);
                // validate "200 ok" status
                window.utility2.assert(xhr.statusCode === 200, xhr.statusCode);
                // validate non-empty data
                data = xhr.responseText;
                window.utility2.assert(data && data.length > 0, data);
                onError();
            } catch (errorCaught) {
                onError(errorCaught);
            }
        });
    };

    window.utility2.testRunDefault(testCaseDict);
}());
</textarea>
    <pre id="outputPreJsonStringify1"></pre>
    <pre id="outputPreJslint1"></pre>
    <label>instrumented-code</label>
    <textarea id="outputTextareaIstanbul1" readonly></textarea>
    <label>stderr and stdout</label>
    <textarea id="outputTextareaStdout1" readonly></textarea>
    <button class="onclick" id="testRunButton1">run internal test</button><br>
    <div id="testReportDiv1" style="display: none;"></div>
    <h2>coverage-report</h2>
    <div class="istanbulCoverageDiv"></div>

    
    <script src="assets.app.js"></script>
    

</body>
</html>
